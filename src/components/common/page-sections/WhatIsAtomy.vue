<script setup>
import { onMounted, ref, computed } from 'vue';
import StickyContainer from '@containers/StickyContainer.vue';
import AdaptiveContainer from '@containers/AdaptiveContainer.vue';
import PageSectionWrapper from '@page-sections/PageSectionWrapper.vue';

const showLogo = ref(false),
	showDescription = ref(false),
	showJarImage = ref(false);

onMounted(async () => {
	await Promise.all([setShowLogo(), setShowJarImage()]);
	setShowDescription();
});

const timeoutMs = 500;

function setShowLogo() {
	return new Promise((resolve) =>
		setTimeout(() => {
			showLogo.value = true;
			resolve(showLogo.value);
		}, timeoutMs)
	);
}

function setShowJarImage() {
	return new Promise((resolve) =>
		setTimeout(() => {
			showJarImage.value = true;
			resolve(showJarImage.value);
		}, timeoutMs)
	);
}

function setShowDescription() {
	setTimeout(() => {
		showDescription.value = true;
	}, timeoutMs);
}

const logoCssClass = computed(() => 'atomy-transition-view ' + (!showLogo.value ? 'out-of-view-y' : 'in-view-y'));
const jarMaskCssClass = computed(() => 'atomy-transition-view ' + (!showJarImage.value ? 'unscaled' : 'scaled'));
const descriptionCssClass = computed(
	() => 'atomy-transition-view ' + (!showDescription.value ? 'out-of-view-x' : 'in-view-x')
);
</script>

<template>
	<page-section-wrapper>
		<div class="w-full h-full flex flex-col items-center justify-evenly relative overflow-hidden">
			<div
				class="absolute w-full h-full pointer-events-none opacity-45 origin-center jar-mask"
				:class="jarMaskCssClass"
			></div>

			<div
				class="w-full pointer-events-none flex justify-center items-center atomy-logo"
				:class="logoCssClass"
			>
				<img
					src="/assets/images/atomy_logo_blue.svg"
					alt="atomy main logo"
					class="w-1/2 h-full max-w-lg"
				/>
			</div>

			<div class="relative atomy-description" :class="descriptionCssClass">
				<p class="text-gray-900 fs-sm-md">
					<strong>ATOMY</strong> - —ç—Ç–æ –Æ–∂–Ω–æ–∫–æ—Ä–µ–π—Å–∫–∏–π –±—Ä–µ–Ω–¥, –∑–∞–Ω–∏–º–∞—é—â–∏–π—Å—è –≤—ã–ø—É—Å–∫–æ–º —É—Ö–æ–¥–æ–≤–æ–π
					–∫–æ—Å–º–µ—Ç–∏–∫–∏, –±—ã—Ç–æ–≤–æ–π —Ö–∏–º–∏–∏ –¥–ª—è –¥–æ–º–∞ –∏ –±–∏–æ–∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–æ–±–∞–≤–æ–∫ (–ë–ê–î) –≤—ã—Å–æ—á–∞–π—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞. –°–≤–æ—é
					–∏—Å—Ç–æ—Ä–∏—é –≤–µ–¥–µ—Ç —Å 2009 –≥–æ–¥–∞, –≤ –†–æ—Å—Å–∏–∏ –ø–µ—Ä–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –ø–æ—è–≤–∏–ª–æ—Å—å –≤ 2018 –≥–æ–¥—É.
					–ö–æ–º–ø–∞–Ω–∏—è –≤—ã–±—Ä–∞–ª–∞ –¥–ª—è —Å–µ–±—è —Å–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º
					<a
						href="http://www.sberbank.ru/ru/s_m_business/pro_business/chto-takoe-mlm-biznes-otvechaem-prostymi-slovami/"
						target="_blank"
						class="font-bold"
						>MLM</a
					>, —á—Ç–æ –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—é –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–µ–æ–±—Ä–µ—Ç–∞—Ç—å –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—É—é –ø—Ä–æ–¥—É–∫—Ü–∏—é, –Ω–æ –∏
					–∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞ —ç—Ç–æ–º (–ø—Ä–∏—á–µ–º –≤—ã–π—Ç–∏ –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π, –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞—Å—Ç—É—â–∏–π –¥–æ—Ö–æ–¥ –±–æ–ª–µ–µ —á–µ–º
					—Ä–µ–∞–ª—å–Ω–æ –∑–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è). –ù–∏–∂–µ –ø–æ—à–∞–≥–æ–≤–æ —Ä–∞—Å—Å–∫–∞–∂–µ–º, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —á—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å.
					–õ–∏—Å—Ç–∞–π! ü§ó
				</p>

				<a href="https://www.atomy.ru/ru/Home" target="_blank" class="btn btn-info link mt-8"
					>–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ</a
				>
			</div>
		</div>
	</page-section-wrapper>
</template>

<style scoped>
.atomy-transition-view {
	transition: transform 0.45s ease-out;
	transform-origin: 0 0;
}

.out-of-view-y {
	transform: translateY(-100vh);
}

.in-view-y {
	transform: translateY(0);
}

.out-of-view-x {
	transform: translateX(-100vw);
}

.in-view-x {
	transform: translateX(0);
}

.unscaled {
	transform: rotate(25deg) scale(0);
}

.scaled {
	transform: rotate(25deg) scale(1);
}

.atomy-description {
	width: 75%;
}

.jar-mask {
	background: url('/assets/images/jar.png') center center/contain no-repeat;
}

@media (max-width: 750px) and (min-width: 150px) {
	.atomy-description {
		width: 100%;
	}

	.atomy-logo {
		height: 25%;
	}
}
</style>
